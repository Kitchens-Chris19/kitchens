<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="sitestyle.css">
<div class="navbar">
   <a href="index.html">Home</a>
   <a href="ajax.html">AJAX</a>
   <a href="dom.html">DOM</a>
   <a href="htmltags.html">HTML Tags</a>
   <a href="localStorage.html">Local Storage</a>
   <div class="dropdown">
      <button class="dropbtn">CSS3
         <i class="fa fa-caret-down"></i>
      </button>
      <div class="dropdown-content">
         <a href="css3animate.html">CSS3 Animations</a>
         <a href="css3transform.html">CSS3 Transforms</a>
         <a href="css3transition.html">CSS3 Transitions</a>
         <a href="cssjs.html">CSS3 with JS</a>
      </div>
   </div>
   <div class="dropdown">
      <button class="dropbtn">JavaScript
         <i class="fa fa-caret-down"></i>
      </button>
      <div class="dropdown-content">
         <a href="jsArrays.html">Arrays</a>
         <a href="jsobj.html">Objects</a>
         <a href="json.html">JSON</a>
      </div>
   </div>
</div>
</head>

<body>
   <h2>JSON</h2>
   <p id="name">ObjectName</p>
   <p id="age">ObjectAge</p>
   <p id="location">ObjectLoc</p>
   <p id="desc" style="position: absolute; right: 50px; width: 300px; height: 100px; border: 1px solid black;
   background-color: yellowgreen;">
      JSON is used in this example to save JS object information to local storage 
      and then recalled later to display the objectâ€™s properties to the user. 
   </p>

   <button type="button" id="getData" onclick= getData()>Input info</button>
   <button type="button" id="saveObject" onclick= saveAssocArray()>Save Object</button>
   <button type="button" id="loadObject" onclick= loadObject()>Load Object</button>

   <p id="objectName">Your Object's Name</p>
   <p id="objectAge">Your Object's Age</p>
   <p id="objectLoc">Your Object's Location</p>

   <script>
      var myObj; 
      var name, age, loc;

      // prompts user for data and shows it on screen
      function getData() {
         name = prompt("Please enter your name", "No name entered");
         age = prompt("Please enter your age.", "No age entered");
         loc = prompt("Please enter your location", "No location entered");

         document.getElementById("name").innerHTML = name;
         document.getElementById("age").innerHTML = age;
         document.getElementById("location").innerHTML = loc;
      }

      function saveAssocArray() {
         myObj = {name: "name", age: "age", loc: "location"}; // established here because localStorage.clear() gets rid of this information
         myObj.name = document.getElementById("name").innerHTML;
         myObj.age = document.getElementById("age").innerHTML;
         myObj.loc = document.getElementById("location").innerHTML;

         // need to use JSON to store it
         localStorage.setItem("object", JSON.stringify(myObj)); // stringify converts to string for storage
      }

      function loadObject() {
         myObj = JSON.parse(localStorage.getItem("object")); // parse gets data from string
         document.getElementById("objectName").innerHTML = myObj.name;
         document.getElementById("objectAge").innerHTML = myObj.age;
         document.getElementById("objectLoc").innerHTML = myObj.loc;
      }
   </script>
</body>
</html>